/* cookcodesmenu Responsive Mobile Menu v1.0 Based On slicknavmenu 
 * (c) 2018 Nazmul Hussain
 * licensed under MIT
 * www.nazmul.info
 * mailatnazmul@gmail.com
 */
!function(e,t,n){var a={display:767,brand:"LOGO",label:"MENU",duplicate:!0,duration:200,easingOpen:"swing",easingClose:"swing",closedSymbol:"&#10133;",openedSymbol:"&#10134;",prependTo:"body",appendTo:"",parentTag:"a",closeOnClick:!0,allowParentLinks:!0,nestedParentLinks:!0,showChildren:!1,removeIds:!0,removeClasses:!1,removeStyles:!1,animations:"jquery",init:function(){},beforeOpen:function(){},beforeClose:function(){},afterOpen:function(){},afterClose:function(){}},i="cookcodesmenu",s="cookcodesmenu";function o(t,n){this.element=t,this.settings=e.extend({},a,n),this.settings.duplicate||n.hasOwnProperty("removeIds")||(this.settings.removeIds=!1),this._defaults=a,this._name=i,this.init()}o.prototype.init=function(){var a,i,o,l=this,r=e(this.element),c=this.settings,d=r[0].getAttribute("id");if(i=c.display,e(n).on("load resize",function(t){e(n).width()<=i?(e("#"+d).addClass("menuHidden"),e(".cookcodesmenu_menu").css("display","block")):(e("#"+d).removeClass("menuHidden"),e(".cookcodesmenu_menu").css("display","none"))}),c.duplicate?l.mobileNav=r.clone():l.mobileNav=r,c.removeIds&&(l.mobileNav.removeAttr("id"),l.mobileNav.find("*").each(function(t,n){e(n).removeAttr("id")})),c.removeClasses&&(l.mobileNav.removeAttr("class"),l.mobileNav.find("*").each(function(t,n){e(n).removeAttr("class")})),c.removeStyles&&(l.mobileNav.removeAttr("style"),l.mobileNav.find("*").each(function(t,n){e(n).removeAttr("style")})),a=s+"_icon",""===c.label&&(a+=" "+s+"_no-text"),"a"==c.parentTag&&(c.parentTag='a href="#"'),l.mobileNav.attr("class",s+"_nav"),o=e('<div class="'+s+'_menu"></div>'),""!==c.brand){var p=e('<div class="'+s+'_brand">'+c.brand+"</div>");e(o).append(p)}l.btn=e(["<"+c.parentTag+' aria-haspopup="true" role="button" tabindex="0" class="'+s+"_btn "+s+'_collapsed">','<span class="'+s+'_menutxt">'+c.label+"</span>",'<span class="'+a+'">','<span class="'+s+'_icon-bar"></span>','<span class="'+s+'_icon-bar"></span>','<span class="'+s+'_icon-bar"></span>',"</span>","</"+c.parentTag+">"].join("")),e(o).append(l.btn),""!==c.appendTo?e(c.appendTo).append(o):e(c.prependTo).prepend(o),o.append(l.mobileNav);var u=l.mobileNav.find("li");e(u).each(function(){var t=e(this),n={};if(n.children=t.children("ul").attr("role","menu"),t.data("menu",n),n.children.length>0){var a=t.contents(),i=!1,o=[];e(a).each(function(){if(e(this).is("ul"))return!1;o.push(this),e(this).is("a")&&(i=!0)});var r=e("<"+c.parentTag+' role="menuitem" aria-haspopup="true" tabindex="-1" class="'+s+'_item"/>');c.allowParentLinks&&!c.nestedParentLinks&&i?e(o).wrapAll('<span class="'+s+"_parent-link "+s+'_row"/>').parent():e(o).wrapAll(r).parent().addClass(s+"_row"),c.showChildren?t.addClass(s+"_open"):t.addClass(s+"_collapsed"),t.addClass(s+"_parent");var d=e('<span class="'+s+'_arrow">'+(c.showChildren?c.openedSymbol:c.closedSymbol)+"</span>");c.allowParentLinks&&!c.nestedParentLinks&&i&&(d=d.wrap(r).parent()),e(o).last().after(d)}else 0===t.children().length&&t.addClass(s+"_txtnode");t.children("a").attr("role","menuitem").click(function(t){c.closeOnClick&&!e(t.target).parent().closest("li").hasClass(s+"_parent")&&e(l.btn).click()}),c.closeOnClick&&c.allowParentLinks&&(t.children("a").children("a").click(function(t){e(l.btn).click()}),t.find("."+s+"_parent-link a:not(."+s+"_item)").click(function(t){e(l.btn).click()}))}),e(u).each(function(){var t=e(this).data("menu");c.showChildren||l._visibilityToggle(t.children,null,!1,null,!0)}),l._visibilityToggle(l.mobileNav,null,!1,"init",!0),l.mobileNav.attr("role","menu"),e(t).mousedown(function(){l._outlines(!1)}),e(t).keyup(function(){l._outlines(!0)}),e(l.btn).click(function(e){e.preventDefault(),l._menuToggle()}),l.mobileNav.on("click","."+s+"_item",function(t){t.preventDefault(),l._itemClick(e(this))}),e(l.btn).keydown(function(t){var n=t||event;switch(n.keyCode){case 13:case 32:case 40:t.preventDefault(),40===n.keyCode&&e(l.btn).hasClass(s+"_open")||l._menuToggle(),e(l.btn).next().find('[role="menuitem"]').first().focus()}}),l.mobileNav.on("keydown","."+s+"_item",function(t){switch((t||event).keyCode){case 13:t.preventDefault(),l._itemClick(e(t.target));break;case 39:t.preventDefault(),e(t.target).parent().hasClass(s+"_collapsed")&&l._itemClick(e(t.target)),e(t.target).next().find('[role="menuitem"]').first().focus()}}),l.mobileNav.on("keydown",'[role="menuitem"]',function(t){switch((t||event).keyCode){case 40:t.preventDefault();var n=(i=(a=e(t.target).parent().parent().children().children('[role="menuitem"]:visible')).index(t.target))+1;a.length<=n&&(n=0),a.eq(n).focus();break;case 38:t.preventDefault();var a,i=(a=e(t.target).parent().parent().children().children('[role="menuitem"]:visible')).index(t.target);a.eq(i-1).focus();break;case 37:if(t.preventDefault(),e(t.target).parent().parent().parent().hasClass(s+"_open")){var o=e(t.target).parent().parent().prev();o.focus(),l._itemClick(o)}else e(t.target).parent().parent().hasClass(s+"_nav")&&(l._menuToggle(),e(l.btn).focus());break;case 27:t.preventDefault(),l._menuToggle(),e(l.btn).focus()}}),c.allowParentLinks&&c.nestedParentLinks&&e("."+s+"_item a").click(function(e){e.stopImmediatePropagation()})},o.prototype._menuToggle=function(e){var t=this.btn,n=this.mobileNav;t.hasClass(s+"_collapsed")?(t.removeClass(s+"_collapsed"),t.addClass(s+"_open")):(t.removeClass(s+"_open"),t.addClass(s+"_collapsed")),t.addClass(s+"_animating"),this._visibilityToggle(n,t.parent(),!0,t)},o.prototype._itemClick=function(e){var t=this.settings,n=e.data("menu");n||((n={}).arrow=e.children("."+s+"_arrow"),n.ul=e.next("ul"),n.parent=e.parent(),n.parent.hasClass(s+"_parent-link")&&(n.parent=e.parent().parent(),n.ul=e.parent().next("ul")),e.data("menu",n)),n.parent.hasClass(s+"_collapsed")?(n.arrow.html(t.openedSymbol),n.parent.removeClass(s+"_collapsed"),n.parent.addClass(s+"_open"),n.parent.addClass(s+"_animating"),this._visibilityToggle(n.ul,n.parent,!0,e)):(n.arrow.html(t.closedSymbol),n.parent.addClass(s+"_collapsed"),n.parent.removeClass(s+"_open"),n.parent.addClass(s+"_animating"),this._visibilityToggle(n.ul,n.parent,!0,e))},o.prototype._visibilityToggle=function(t,n,a,i,o){var l=this,r=l.settings,c=l._getActionItems(t),d=0;function p(t,n){e(t).removeClass(s+"_animating"),e(n).removeClass(s+"_animating"),o||r.afterOpen(t)}function u(n,a){t.attr("aria-hidden","true"),c.attr("tabindex","-1"),l._setVisAttr(t,!0),t.hide(),e(n).removeClass(s+"_animating"),e(a).removeClass(s+"_animating"),o?"init"==n&&r.init():r.afterClose(n)}a&&(d=r.duration),t.hasClass(s+"_hidden")?(t.removeClass(s+"_hidden"),o||r.beforeOpen(i),"jquery"===r.animations?t.stop(!0,!0).slideDown(d,r.easingOpen,function(){p(i,n)}):"velocity"===r.animations&&t.velocity("finish").velocity("slideDown",{duration:d,easing:r.easingOpen,complete:function(){p(i,n)}}),t.attr("aria-hidden","false"),c.attr("tabindex","0"),l._setVisAttr(t,!1)):(t.addClass(s+"_hidden"),o||r.beforeClose(i),"jquery"===r.animations?t.stop(!0,!0).slideUp(d,this.settings.easingClose,function(){u(i,n)}):"velocity"===r.animations&&t.velocity("finish").velocity("slideUp",{duration:d,easing:r.easingClose,complete:function(){u(i,n)}}))},o.prototype._setVisAttr=function(t,n){var a=this,i=t.children("li").children("ul").not("."+s+"_hidden");n?i.each(function(){var t=e(this);t.attr("aria-hidden","true"),a._getActionItems(t).attr("tabindex","-1"),a._setVisAttr(t,n)}):i.each(function(){var t=e(this);t.attr("aria-hidden","false"),a._getActionItems(t).attr("tabindex","0"),a._setVisAttr(t,n)})},o.prototype._getActionItems=function(e){var t=e.data("menu");if(!t){t={};var n=e.children("li"),a=n.find("a");t.links=a.add(n.find("."+s+"_item")),e.data("menu",t)}return t.links},o.prototype._outlines=function(t){t?e("."+s+"_item, ."+s+"_btn").css("outline",""):e("."+s+"_item, ."+s+"_btn").css("outline","none")},o.prototype.toggle=function(){this._menuToggle()},o.prototype.open=function(){this.btn.hasClass(s+"_collapsed")&&this._menuToggle()},o.prototype.close=function(){this.btn.hasClass(s+"_open")&&this._menuToggle()},e.fn[i]=function(t){var n,a=arguments;return void 0===t||"object"==typeof t?this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each(function(){var s=e.data(this,"plugin_"+i);s instanceof o&&"function"==typeof s[t]&&(n=s[t].apply(s,Array.prototype.slice.call(a,1)))}),void 0!==n?n:this):void 0}}(jQuery,document,window);
